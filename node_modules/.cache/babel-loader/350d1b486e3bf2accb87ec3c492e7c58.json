{"ast":null,"code":"import AuthService from \"../../services/AuthService\";\nimport { setCurrentUser } from \"./actionCreators\";\n/**\n * Get user profile based on token\n */\n\nexport function getProfile() {\n  return function (dispatch) {\n    return new Promise(function (resolve, reject) {\n      debugger;\n      var token = AuthService.getToken();\n\n      if (token) {\n        AuthService.getProfile().then(function (resp) {\n          if (resp.data.user) {\n            dispatch(setCurrentUser(resp.data.user));\n          }\n\n          resolve();\n        });\n      } else {\n        resolve();\n      }\n    });\n  };\n}","map":{"version":3,"sources":["/home/nofal/Desktop/Training/react/react-redux-login-registration-example/src/store/actions/user.js"],"names":["AuthService","setCurrentUser","getProfile","dispatch","Promise","resolve","reject","token","getToken","then","resp","data","user"],"mappings":"AAAA,OAAOA,WAAP,MAAwB,4BAAxB;AACA,SAASC,cAAT,QAA+B,kBAA/B;AAEA;;;;AAGA,OAAO,SAASC,UAAT,GAAsB;AAC3B,SAAO,UAAAC,QAAQ,EAAI;AACjB,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC;AACA,UAAMC,KAAK,GAAGP,WAAW,CAACQ,QAAZ,EAAd;;AACA,UAAID,KAAJ,EAAW;AACTP,QAAAA,WAAW,CAACE,UAAZ,GAAyBO,IAAzB,CAA8B,UAAAC,IAAI,EAAI;AACpC,cAAIA,IAAI,CAACC,IAAL,CAAUC,IAAd,EAAoB;AAClBT,YAAAA,QAAQ,CAACF,cAAc,CAACS,IAAI,CAACC,IAAL,CAAUC,IAAX,CAAf,CAAR;AACD;;AACDP,UAAAA,OAAO;AACR,SALD;AAMD,OAPD,MAOO;AACLA,QAAAA,OAAO;AACR;AACF,KAbM,CAAP;AAcD,GAfD;AAgBD","sourcesContent":["import AuthService from \"../../services/AuthService\";\nimport { setCurrentUser } from \"./actionCreators\";\n\n/**\n * Get user profile based on token\n */\nexport function getProfile() {\n  return dispatch => {\n    return new Promise((resolve, reject) => {\n      debugger;\n      const token = AuthService.getToken();\n      if (token) {\n        AuthService.getProfile().then(resp => {\n          if (resp.data.user) {\n            dispatch(setCurrentUser(resp.data.user));\n          }\n          resolve();\n        });\n      } else {\n        resolve();\n      }\n    });\n  }\n}\n\n"]},"metadata":{},"sourceType":"module"}